// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Producto {
  ID_Producto   Int             @id @default(autoincrement())
  Nombre        String
  Descripcion   String?
  Precio_Unitario Float
  Categoria    Categoria       @relation(fields: [ID_Categoria], references: [ID_Categoria])
  ID_Categoria Int
  Proveedor    Proveedor       @relation(fields: [ID_Proveedor], references: [ID_Proveedor])
  ID_Proveedor Int
  Inventario   Inventario[]
  DetallesVenta DetallesVenta[]
}

model Categoria {
  ID_Categoria Int        @id @default(autoincrement())
  Nombre_Categoria String
  Productos     Producto[]
}

model Proveedor {
  ID_Proveedor    Int        @id @default(autoincrement())
  Nombre          String
  Direccion       String
  Telefono        String
  Correo_Electronico String
  Productos       Producto[]
}

model Inventario {
  ID_Inventario   Int        @id @default(autoincrement())
  Producto       Producto   @relation(fields: [ID_Producto], references: [ID_Producto])
  ID_Producto    Int
  Cantidad_Disponible Int
}

model Empleado {
  ID_Empleado    Int        @id @default(autoincrement())
  Nombre         String
  Apellido      String
  Direccion     String
  Telefono      String
  Puesto        String
  Ventas        Venta[]
}

model Venta {
  ID_Venta      Int            @id @default(autoincrement())
  Empleado     Empleado       @relation(fields: [ID_Empleado], references: [ID_Empleado])
  ID_Empleado  Int
  Fecha_Venta  DateTime
  Total        Float
  DetallesVenta DetallesVenta[]
}

model DetallesVenta {
  ID_Detalle   Int            @id @default(autoincrement())
  Venta       Venta          @relation(fields: [ID_Venta], references: [ID_Venta])
  ID_Venta    Int
  Producto    Producto       @relation(fields: [ID_Producto], references: [ID_Producto])
  ID_Producto Int
  Cantidad    Int
  Subtotal    Float
}
